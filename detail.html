<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2더하기8은 12조</title>
  <link rel="stylesheet" href="style.css">
  <script src="companyData.js"></script>
  <script>
    const companyMap = {
      "AP위성": "apsi.html",
      "데브시스터즈": "devsisters.html",
      "한선엔지니어링": "ehansun.html",
      "고려제강": "kiswire.html",
      "메카로": "mecaro.html",
      "미래에셋증권": "miraeasset.html",
      "폴라리스AI": "polarisai.html",
      "로보로보": "roborobo.html",
      "셀바스헬스케어": "selvashealthcare.html",
      "성우하이텍": "sungwoo.html"
    };

    function goToCompanyPage() {
      const input = document.getElementById("searchInput").value.trim();
      if (companyMap[input]) {
        window.location.href = companyMap[input];
      } else {
        alert("해당 기업 정보를 찾을 수 없습니다.");
      }
      return false;
    }
  </script>
<style>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Malgun Gothic', sans-serif;
    }
    body {
        background-color: #f5f5f5;
    }
    .header {
        background-color: #333;
        color: white;
        padding: 10px 0;
        border-top: 3px solid #e74c3c;
    }
    .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 15px;
    }
    .logo {
        font-size: 28px;
        font-weight: bold;
    }
    .logo span:first-child {
        color: #e74c3c;
    }
    .search-bar {
        display: flex;
    }
    .search-bar input {
        padding: 8px 12px;
        border: none;
        border-radius: 4px 0 0 4px;
        width: 300px;
    }
    .search-bar button {
        background-color: #555;
        border: none;
        padding: 8px 15px;
        border-radius: 0 4px 4px 0;
        color: white;
        cursor: pointer;
    }
    .main-nav {
        background-color: #444;
        border-bottom: 1px solid #555;
    }
    .nav-items {
        display: flex;
        max-width: 1200px;
        margin: 0 auto;
        list-style-type: none;
    }
    .nav-items li {
        padding: 15px 20px;
        color: white;
        cursor: pointer;
        font-weight: bold;
    }
    .nav-items li:hover, .nav-items li.active {
        background-color: #666;
    }
    .sub-nav {
        background-color: #eee;
        border-bottom: 1px solid #ddd;
    }
    .sub-nav-items {
        display: flex;
        max-width: 1200px;
        margin: 0 auto;
        list-style-type: none;
        padding: 10px 15px;
    }
    .sub-nav-items li {
        padding: 5px 15px;
        color: #333;
        cursor: pointer;
        border-right: 1px solid #ccc;
    }
    .sub-nav-items li:last-child {
        border-right: none;
    }
    .sub-nav-items li.active {
        font-weight: bold;
        color: #e74c3c;
    }
    .company-info {
        max-width: 1200px;
        margin: 20px auto;
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 20px;
    }
    .company-header {
        display: flex;
        justify-content: space-between;
        border-bottom: 1px solid #eee;
        padding-bottom: 15px;
        margin-bottom: 15px;
    }
    .company-name {
        font-size: 24px;
        font-weight: bold;
        color: #e74c3c;
    }
    .company-code {
        color: #666;
        margin-left: 10px;
    }
    .stats {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
    }
    .stat-box {
        text-align: center;
        flex: 1;
        padding: 10px;
    }
    .stat-label {
        font-size: 14px;
        color: #666;
    }
    .stat-value {
        font-size: 22px;
        font-weight: bold;
        margin-top: 5px;
    }
    .charts {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
    }
    .chart {
        flex: 1;
        background-color: #f9f9f9;
        border: 1px solid #eee;
        height: 200px;
        margin: 0 5px;
        position: relative;
    }
    .chart-title {
        position: absolute;
        top: 10px;
        left: 10px;
        font-size: 14px;
        color: #666;
    }
    .chart-value {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 16px;
        font-weight: bold;
    }
    .chart-content {
        height: 80%;
        margin-top: 40px;
        background-image: linear-gradient(to right, #ffcccb, #ffebe6);
        position: relative;
        overflow: hidden;
    }
    .chart-line {
        position: absolute;
        width: 100%;
        height: 2px;
        background-color: red;
        top: 50%;
        z-index: 2;
    }
    .chart-line.blue {
        background-color: blue;
        top: 30%;
    }
    .detail-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }
    .detail-table th, .detail-table td {
        border: 1px solid #ddd;
        padding: 10px;
        text-align: center;
    }
    .detail-table th {
        background-color: #f5f5f5;
    }
    .positive {
        color: red;
    }
    .negative {
        color: blue;
    }

    /* 동적 계산을 위한 스타일 */
    .calculated-value {
        font-weight: bold;
    }

    /* 상세목차 메뉴 스타일 */
    .tab-menu {
        display: flex;
        background-color: #f8f8f8;
        border-bottom: 1px solid #ddd;
        margin-bottom: 20px;
    }
    .tab-item {
        padding: 12px 20px;
        cursor: pointer;
        border-bottom: 2px solid transparent;
    }
    .tab-item.active {
        border-bottom: 2px solid #e74c3c;
        font-weight: bold;
    }
    .tab-content {
        display: none;
    }
    .tab-content.active {
        display: block;
    }

    /* 재무제표 상세목차 */
    .financial-statement {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
    }
    .financial-statement th, .financial-statement td {
        border: 1px solid #ddd;
        padding: 8px 12px;
    }
    .financial-statement th {
        background-color: #f5f5f5;
        text-align: left;
    }
    .financial-statement thead th {
        text-align: center;
        font-weight: bold;
    }
    .financial-statement .category {
        background-color: #eee;
        font-weight: bold;
    }
    .financial-statement .subcategory {
        padding-left: 20px;
    }
    .financial-statement .item {
        padding-left: 35px;
    }
    .year-selector {
        margin-bottom: 15px;
        text-align: right;
    }
    .year-selector select {
        padding: 5px 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
    }
    .statement-type {
        margin-bottom: 15px;
    }
    .statement-type select {
        padding: 5px 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
    }
    .unit-info {
        text-align: right;
        color: #666;
        font-size: 12px;
        margin-bottom: 5px;
    }

    /* 기업정보 상세목차 */
    .company-profile {
        display: none;
        padding: 20px;
    }
    .company-profile.active {
        display: block;
    }
    .company-profile-header {
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 1px solid #eee;
    }
    .company-profile-section {
        margin-bottom: 30px;
    }
    .company-profile-section h3 {
        margin-bottom: 15px;
        color: #333;
        font-size: 18px;
    }
    .company-detail-table {
        width: 100%;
        border-collapse: collapse;
    }
    .company-detail-table th, .company-detail-table td {
        border: 1px solid #ddd;
        padding: 10px;
    }
    .company-detail-table th {
        background-color: #f5f5f5;
        width: 150px;
        text-align: left;
    }

    /* 페이지 상세목차 */
    .page-container {
        display: none;
    }
    .page-container.active {
        display: block;
    }

    /* 경제지표 상세목차 */
    .ratio-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }
    .ratio-table th, .ratio-table td {
        border: 1px solid #ddd;
        padding: 10px;
        text-align: center;
    }
    .ratio-table th {
        background-color: #f5f5f5;
    }
    .ratio-table .ratio-category {
        background-color: #eee;
        font-weight: bold;
        text-align: left;
    }

    /* 투자지표 상세목차 */
    .investment-indicators {
        margin-top: 20px;
    }
    .indicator-chart {
        width: 100%;
        height: 300px;
        background-color: #f9f9f9;
        border: 1px solid #eee;
        margin-bottom: 30px;
        position: relative;
    }
    .indicator-chart-title {
        padding: 10px;
        font-weight: bold;
        background-color: #f5f5f5;
        border-bottom: 1px solid #eee;
    }
    .indicator-chart-content {
        height: 250px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #999;
    }

    /* 리포트 상세목차 */
    .report-list {
        margin-top: 20px;
    }
    .report-item {
        border-bottom: 1px solid #eee;
        padding: 15px 0;
    }
    .report-title {
        font-size: 16px;
        font-weight: bold;
        margin-bottom: 5px;
    }
    .report-metadata {
        display: flex;
        font-size: 13px;
        color: #666;
    }
    .report-metadata span {
        margin-right: 15px;
    }
    .report-summary {
        margin-top: 10px;
        font-size: 14px;
        color: #333;
        line-height: 1.5;
    }

    /* 뉴스 상세목차 */
    .news-list {
        margin-top: 20px;
    }
    .news-item {
        border-bottom: 1px solid #eee;
        padding: 15px 0;
    }
    .news-title {
        font-size: 16px;
        font-weight: bold;
        margin-bottom: 5px;
    }
    .news-metadata {
        display: flex;
        font-size: 13px;
        color: #666;
    }
    .news-metadata span {
        margin-right: 15px;
    }
    .news-summary {
        margin-top: 10px;
        font-size: 14px;
        color: #333;
        line-height: 1.5;
    }

    /* 서브 페이지 스타일 */
    .sub-page {
        display: none;
    }
    .sub-page.active {
        display: block;
    }
</style>

</style>

<script>
    // 페이지 로드 후 실행되는 함수
    window.onload = function() {
        setupSubNavigation();
        setupTabs();
        setupCalculations();
    };

    // 서브 네비게이션 기능 설정
    function setupSubNavigation() {
        const subNavItems = document.querySelectorAll('.sub-nav-items li');

        subNavItems.forEach(item => {
            item.addEventListener('click', function() {
                // 현재 활성화된 메뉴 아이템 제거
                const parentSubNav = this.closest('.sub-nav-items');
                parentSubNav.querySelectorAll('li').forEach(navItem => navItem.classList.remove('active'));

                // 클릭한 메뉴 아이템 활성화
                this.classList.add('active');

                // 해당 서브페이지 표시
                const subPageName = this.getAttribute('data-subpage');
                if (subPageName) {
                    // 모든 서브페이지 숨기기
                    const subPages = document.querySelectorAll('.sub-page');
                    subPages.forEach(subPage => {
                        subPage.classList.remove('active');
                    });

                    // 선택한 서브페이지 표시
                    const targetSubPage = document.getElementById(subPageName);
                    if (targetSubPage) {
                        targetSubPage.classList.add('active');
                    }
                }
            });
        });
    }

    // 탭 메뉴 설정
    function setupTabs() {
        const tabItems = document.querySelectorAll('.tab-item');

        tabItems.forEach(item => {
            item.addEventListener('click', function() {
                // 현재 탭 메뉴에서 활성화된 탭 찾기
                const parentTabMenu = this.closest('.tab-menu');
                parentTabMenu.querySelectorAll('.tab-item').forEach(tab => tab.classList.remove('active'));

                // 클릭한 탭 활성화
                this.classList.add('active');

                // 해당 탭 콘텐츠 표시
                const targetId = this.getAttribute('data-target');
                if (targetId) {
                    // 같은 페이지 내의 모든 탭 콘텐츠 숨기기
                    const parentPage = this.closest('.sub-page');
                    parentPage.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });

                    // 선택한 탭 콘텐츠 표시
                    const targetContent = document.getElementById(targetId);
                    if (targetContent) {
                        targetContent.classList.add('active');
                    }
                }
            });
        });
    }

    // 계산 함수 설정
    function setupCalculations() {
        // 재무정보 페이지의 입력 필드 생성
        const statBoxes = document.querySelectorAll('.stat-box');

        statBoxes.forEach(box => {
            const label = box.querySelector('.stat-label').innerText;
            const valueElement = box.querySelector('.stat-value');

            // 값 대신 입력 필드 추가
            const inputField = document.createElement('input');
            inputField.type = 'text';
            inputField.placeholder = '값 입력';
            inputField.style.width = '80px';
            inputField.style.marginTop = '5px';
            inputField.style.textAlign = 'center';
            inputField.dataset.label = label;

            // 계산된 값을 표시할 요소 추가
            const calculatedDiv = document.createElement('div');
            calculatedDiv.className = 'calculated-value';
            calculatedDiv.innerText = '--';

            // 기존 값 제거 후 입력 필드와 계산된 값 추가
            valueElement.innerHTML = '';
            valueElement.appendChild(inputField);
            valueElement.appendChild(calculatedDiv);

            // 입력 변경 이벤트 리스너 추가
            inputField.addEventListener('input', calculateValues);
        });

        // 투자지표 페이지의 테이블에도 적용
        const detailTables = document.querySelectorAll('.detail-table');

        detailTables.forEach(table => {
            const cells = table.querySelectorAll('td');

            cells.forEach(cell => {
                const originalText = cell.innerText;

                // 특정 데이터 셀에만 적용 (숫자가 포함된 셀)
                if (originalText.match(/[0-9]/) || originalText === '--') {
                    const rowHeader = cell.closest('tr').querySelector('th').innerText;

                    // 입력 필드 생성
                    const inputField = document.createElement('input');
                    inputField.type = 'text';
                    inputField.placeholder = '값 입력';
                    inputField.style.width = '80px';
                    inputField.dataset.header = rowHeader;

                    // 계산된 값을 표시할 요소 추가
                    const calculatedDiv = document.createElement('div');
                    calculatedDiv.className = 'calculated-value';
                    calculatedDiv.innerText = '--';

                    // 기존 값 제거 후 입력 필드와 계산된 값 추가
                    cell.innerHTML = '';
                    cell.appendChild(inputField);
                    cell.appendChild(calculatedDiv);

                    // 입력 변경 이벤트 리스너 추가
                    inputField.addEventListener('input', calculateTableValues);
                }
            });
        });
    }

    // 통계 섹션 값 계산 함수
    function calculateValues() {
        const inputs = document.querySelectorAll('.stat-box input');
        const values = {};

        // 입력된 값 수집
        inputs.forEach(input => {
            values[input.dataset.label] = parseFloat(input.value) || 0;
        });

        // 각 입력 필드에 대한 계산
        inputs.forEach(input => {
            const calculatedDiv = input.nextElementSibling;
            const label = input.dataset.label;
            const value = parseFloat(input.value) || 0;

            if (isNaN(value) || value === 0) {
                calculatedDiv.innerText = '--';
                return;
            }

            // 라벨에 따른 계산 로직
            switch (label) {
                case 'PER':
                    // 주가 / 주당순이익 (EPS)
                    calculatedDiv.innerText = value.toFixed(2);
                    break;
                case '12M PER':
                    // 주가 / 12개월 예상 EPS
                    calculatedDiv.innerText = value.toFixed(2);
                    break;
                case '업종 PER':
                    // 업종 평균 PER
                    calculatedDiv.innerText = value.toFixed(2);
                    break;
                case 'PBR':
                    // 주가 / 주당순자산가치 (BPS)
                    calculatedDiv.innerText = value.toFixed(2);
                    break;
                case '배당수익률':
                    // (주당배당금 / 주가) * 100
                    calculatedDiv.innerText = value.toFixed(2) + '%';
                    break;
                default:
                    calculatedDiv.innerText = value.toFixed(2);
            }
        });
    }

    // 테이블 값 계산 함수
    function calculateTableValues() {
        const inputs = document.querySelectorAll('.detail-table input');
        const values = {};

        // 입력된 값 수집
        inputs.forEach(input => {
            values[input.dataset.header] = parseFloat(input.value) || 0;
        });

        // 각 입력 필드에 대한 계산
        inputs.forEach(input => {
            const calculatedDiv = input.nextElementSibling;
            const header = input.dataset.header;
            const value = parseFloat(input.value) || 0;

            if (isNaN(value) || value === 0) {
                calculatedDiv.innerText = '--';
                return;
            }

            // 헤더에 따른 계산 로직
            switch (header) {
                case '종가/전일대비':
                    // 전일대비 계산
                    calculatedDiv.innerText = value.toLocaleString() + ' 원';
                    break;
                case '52주 최고/최저가':
                    // 최고가와 최저가 표시
                    calculatedDiv.innerText = value.toLocaleString() + ' 원';
                    break;
                case '수익률 (1M/3M/6M/1Y)':
                    // 수익률 계산
                    calculatedDiv.innerText = value.toFixed(2) + '%';
                    break;
                case '시가총액':
                    // 시가총액 표시
                    calculatedDiv.innerText = value.toLocaleString() + ' 억원';
                    break;
                case '발행주식수':
                    // 발행주식수 표시
                    calculatedDiv.innerText = value.toLocaleString() + ' 주';
                    break;
                default:
                    calculatedDiv.innerText = value.toLocaleString();
            }
        });
    }

  
</head>
<body>
  <div class="header">
    <div class="header-content">
      <div class="logo">
        <a href="index.html" style="text-decoration: none; color: inherit;">
          <span>2더하기8은</span> 12조
        </a>
      </div>
      <div class="search-bar">
        <form onsubmit="return goToCompanyPage()">
          <input type="text" id="searchInput" placeholder="기업명을 입력하세요">
          <button type="submit">검색</button>
        </form>
      </div>
    </div>
  </div>

  <div class="main-nav">
    <ul class="nav-items">
      <li class="active"><a href="#overview">기업 개요</a></li>
      <li><a href="#finance">재무제표</a></li>
      <li><a href="#investment">투자지표</a></li>
      <li><a href="#economy">경제지표</a></li>
      <li><a href="#report">리포트</a></li>
      <li><a href="#news">뉴스</a></li>
    </ul>
  </div>

  <div class="sub-nav">
    <ul class="sub-nav-items">
      <li class="active" data-subpage="overview-section">기업 개요</li>
      <li data-subpage="finance-section">재무제표</li>
      <li data-subpage="investment-section">투자지표</li>
      <li data-subpage="economy-section">경제지표</li>
      <li data-subpage="report-section">리포트</li>
      <li data-subpage="news-section">뉴스</li>
    </ul>
  </div>

  <div class="page-container">
    <div class="sub-page active" id="overview-section">
      <div class="company-info">
        <div class="company-header">
          <div>
            <span class="company-name" id="company-name">기업명</span>
            <span class="company-code" id="company-code">--</span>
          </div>
          <div id="industry">--</div>
        </div>

        <div class="company-profile-section">
          <h3>기업 개요</h3>
          <table class="company-detail-table">
            <tr><th>기업명</th><td id="detail-name">--</td><th>대표자</th><td id="ceo">--</td></tr>
            <tr><th>설립일</th><td id="found-date">--</td><th>상장일</th><td id="list-date">--</td></tr>
            <tr><th>업종명</th><td colspan="3" id="category">--</td></tr>
            <tr><th>주소</th><td colspan="3" id="address">--</td></tr>
            <tr><th>홈페이지</th><td colspan="3" id="homepage">--</td></tr>
          </table>
          <p id="description">(해당 기업 개요는 직접 입력합니다)</p>
        </div>
      </div>
    </div>

    <div class="sub-page" id="finance-section">
      <div class="company-info">
        <h3>재무제표</h3>
        <table class="detail-table">
          <tr><th>년도</th><th>매출액</th><th>영업이익</th><th>당기순이익</th></tr>
          <tr>
            <td id="finance-year">--</td>
            <td id="revenue">--</td>
            <td id="operating-income">--</td>
            <td id="net-income">--</td>
          </tr>
        </table>
      </div>
    </div>

    <div class="sub-page" id="investment-section">
      <div class="company-info">
        <h3>투자지표</h3>
        <table class="detail-table">
          <tr><th>PER</th><td id="per">--</td><th>PBR</th><td id="pbr">--</td></tr>
          <tr><th>ROE</th><td id="roe">--</td><th>EPS</th><td id="eps">--</td></tr>
        </table>
      </div>
    </div>

    <div class="sub-page" id="economy-section">
      <div class="company-info">
        <h3>경제지표</h3>
        <table class="detail-table">
          <tr><th>현재가</th><td id="stock-price">--</td><th>전일비</th><td id="price-change">--</td></tr>
          <tr><th>USD/KRW</th><td id="usd-krw">--</td><th>국내 금(원/g)</th><td id="gold-price">--</td></tr>
          <tr><th>KOSPI</th><td id="kospi">--</td><th>KOSDAQ</th><td id="kosdaq">--</td></tr>
        </table>
      </div>
    </div>

    <div class="sub-page" id="report-section">
      <div class="company-info">
        <h3>리포트</h3>
        <p>(해당 기업의 리포트는 추후 제공될 예정입니다.)</p>
      </div>
    </div>

    <div class="sub-page" id="news-section">
      <div class="company-info">
        <h3>뉴스</h3>
        <ul class="news-list" id="news-list">
          <li>뉴스 데이터가 없습니다.</li>
        </ul>
      </div>
    </div>
  </div>
